{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["// const { default: iziToast } = require('izitoast');\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst inputSurch = document.querySelector('.input');\nconst btnSub = document.querySelector('#searchForm');\nconst newsContainer = document.querySelector('.news');\n\nasync function surch(query) {\n  const apiKey = 'ce8f677110414806a753081c344c7117';\n  const baseUrl = 'https://newsapi.org/v2/everything';\n  const params = {\n    q: query,\n    from: '2024-07-15',\n    sortBy: 'relevancy',\n    apiKey: apiKey,\n    // language: 'ru',\n  };\n  const url = `${baseUrl}?` + new URLSearchParams(params).toString();\n  try {\n    const response = await axios.get(url);\n    return response.data.articles;\n  } catch (error) {\n    console.error('Error:', error);\n    iziToast.error({\n      title: 'Error',\n      message: 'Something went wrong. Please try again later.',\n    });\n    return [];\n  }\n}\n\nbtnSub.addEventListener('submit', async event => {\n  event.preventDefault();\n  const query = inputSurch.value;\n  const articles = await surch(query);\n  renderNews(articles);\n  console.log(query);\n});\n\nfunction renderNews(articles) {\n  const markup = articles\n    .map(article => {\n      return `\n                        <div class=\"news-card\">\n                            <a href=\"${article.url}\" target=\"_blank\">\n                                <img src=\"${article.urlToImage}\" alt=\"${article.title}\" width='500' />\n                            </a>\n                            <div class=\"image-text\">\n                                <h3>${article.title}</h3>\n                                <p>${article.description}</p>\n                            </div>\n                        </div>\n                    `;\n    })\n    .join('');\n\n  newsContainer.innerHTML = markup;\n}\n"],"names":["inputSurch","btnSub","newsContainer","surch","query","apiKey","baseUrl","params","url","error","iziToast","event","articles","renderNews","markup","article"],"mappings":"svBAIA,MAAMA,EAAa,SAAS,cAAc,QAAQ,EAC5CC,EAAS,SAAS,cAAc,aAAa,EAC7CC,EAAgB,SAAS,cAAc,OAAO,EAEpD,eAAeC,EAAMC,EAAO,CAC1B,MAAMC,EAAS,mCACTC,EAAU,oCACVC,EAAS,CACb,EAAGH,EACH,KAAM,aACN,OAAQ,YACR,OAAQC,CAEZ,EACQG,EAAM,GAAGF,CAAO,IAAM,IAAI,gBAAgBC,CAAM,EAAE,WACxD,GAAI,CAEF,OADiB,MAAM,MAAM,IAAIC,CAAG,GACpB,KAAK,QACtB,OAAQC,EAAO,CACd,eAAQ,MAAM,SAAUA,CAAK,EAC7BC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,+CACf,CAAK,EACM,EACR,CACH,CAEAT,EAAO,iBAAiB,SAAU,MAAMU,GAAS,CAC/CA,EAAM,eAAc,EACpB,MAAMP,EAAQJ,EAAW,MACnBY,EAAW,MAAMT,EAAMC,CAAK,EAClCS,EAAWD,CAAQ,EACnB,QAAQ,IAAIR,CAAK,CACnB,CAAC,EAED,SAASS,EAAWD,EAAU,CAC5B,MAAME,EAASF,EACZ,IAAIG,GACI;AAAA;AAAA,uCAE0BA,EAAQ,GAAG;AAAA,4CACNA,EAAQ,UAAU,UAAUA,EAAQ,KAAK;AAAA;AAAA;AAAA,sCAG/CA,EAAQ,KAAK;AAAA,qCACdA,EAAQ,WAAW;AAAA;AAAA;AAAA,qBAInD,EACA,KAAK,EAAE,EAEVb,EAAc,UAAYY,CAC5B"}