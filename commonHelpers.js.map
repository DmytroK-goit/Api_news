{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst inputSurch = document.querySelector('.input');\nconst btnSub = document.querySelector('#searchForm');\nconst newsContainer = document.querySelector('.news');\n\ninputSurch.addEventListener('input', () => {\n  btnSub.disabled = inputSurch.value.trim() === '';\n});\n\nasync function surch(query) {\n  if (query.trim() === '') {\n    iziToast.error({\n      title: 'Помилка',\n      message: 'Поле запиту не може бути порожнім.',\n    });\n    return [];\n  }\n  const apiKey = 'ce8f677110414806a753081c344c7117';\n  const baseUrl = 'https://newsapi.org/v2/everything';\n  const params = {\n    q: query,\n    from: '2024-07-15',\n    sortBy: 'publishedAt',\n    apiKey: apiKey,\n  };\n  const url = `${baseUrl}?` + new URLSearchParams(params).toString();\n  console.log(url);\n\n  try {\n    const response = await axios.get(url);\n    iziToast.show({\n      title: 'Знайдено',\n      color: 'green',\n      message: `${response.data.totalResults} записів про \" ${query} \"`,\n    });\n    return response.data.articles;\n  } catch (error) {\n    console.error('Error:', error);\n    iziToast.error({\n      title: 'Error',\n      message: `${error.ye.message}`,\n    });\n    return [];\n  }\n}\n\nbtnSub.addEventListener('submit', async event => {\n  event.preventDefault();\n  const query = inputSurch.value;\n  const articles = await surch(query);\n  renderNews(articles);\n  console.log(query);\n});\n\nfunction renderNews(articles) {\n  const markup = articles\n    .map(article => {\n      return `\n        <div class=\"news-card\">\n          <a href=\"${article.url}\" target=\"_blank\">\n            <img src=\"${article.urlToImage}\" alt=\"${article.title}\" width='500' />\n          </a>\n          <div class=\"image-text\">\n            <h3>${article.title} ${article.publishedAt}</h3>\n            <p>${article.description}</p>\n          </div>\n        </div>\n      `;\n    })\n    .join('');\n\n  newsContainer.innerHTML = markup;\n}\n"],"names":["inputSurch","btnSub","newsContainer","surch","query","iziToast","apiKey","baseUrl","params","url","response","error","event","articles","renderNews","markup","article"],"mappings":"svBAGA,MAAMA,EAAa,SAAS,cAAc,QAAQ,EAC5CC,EAAS,SAAS,cAAc,aAAa,EAC7CC,EAAgB,SAAS,cAAc,OAAO,EAEpDF,EAAW,iBAAiB,QAAS,IAAM,CACzCC,EAAO,SAAWD,EAAW,MAAM,KAAI,IAAO,EAChD,CAAC,EAED,eAAeG,EAAMC,EAAO,CAC1B,GAAIA,EAAM,KAAM,IAAK,GACnB,OAAAC,EAAS,MAAM,CACb,MAAO,UACP,QAAS,oCACf,CAAK,EACM,GAET,MAAMC,EAAS,mCACTC,EAAU,oCACVC,EAAS,CACb,EAAGJ,EACH,KAAM,aACN,OAAQ,cACR,OAAQE,CACZ,EACQG,EAAM,GAAGF,CAAO,IAAM,IAAI,gBAAgBC,CAAM,EAAE,WACxD,QAAQ,IAAIC,CAAG,EAEf,GAAI,CACF,MAAMC,EAAW,MAAM,MAAM,IAAID,CAAG,EACpC,OAAAJ,EAAS,KAAK,CACZ,MAAO,WACP,MAAO,QACP,QAAS,GAAGK,EAAS,KAAK,YAAY,kBAAkBN,CAAK,IACnE,CAAK,EACMM,EAAS,KAAK,QACtB,OAAQC,EAAO,CACd,eAAQ,MAAM,SAAUA,CAAK,EAC7BN,EAAS,MAAM,CACb,MAAO,QACP,QAAS,GAAGM,EAAM,GAAG,OAAO,EAClC,CAAK,EACM,EACR,CACH,CAEAV,EAAO,iBAAiB,SAAU,MAAMW,GAAS,CAC/CA,EAAM,eAAc,EACpB,MAAMR,EAAQJ,EAAW,MACnBa,EAAW,MAAMV,EAAMC,CAAK,EAClCU,EAAWD,CAAQ,EACnB,QAAQ,IAAIT,CAAK,CACnB,CAAC,EAED,SAASU,EAAWD,EAAU,CAC5B,MAAME,EAASF,EACZ,IAAIG,GACI;AAAA;AAAA,qBAEQA,EAAQ,GAAG;AAAA,wBACRA,EAAQ,UAAU,UAAUA,EAAQ,KAAK;AAAA;AAAA;AAAA,kBAG/CA,EAAQ,KAAK,IAAIA,EAAQ,WAAW;AAAA,iBACrCA,EAAQ,WAAW;AAAA;AAAA;AAAA,OAI/B,EACA,KAAK,EAAE,EAEVd,EAAc,UAAYa,CAC5B"}