{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst inputSurch = document.querySelector('.input');\nconst btnSub = document.querySelector('#searchForm');\nconst newsContainer = document.querySelector('.news');\n\nasync function surch(query) {\n  const proxyUrl = 'https://cors-anywhere.herokuapp.com/';\n  const apiKey = 'ce8f677110414806a753081c344c7117';\n  const baseUrl = 'https://newsapi.org/v2/everything';\n  const params = {\n    q: query,\n    from: '2024-07-15',\n    sortBy: 'relevancy',\n    apiKey: apiKey,\n  };\n  const url = proxyUrl + baseUrl + '?' + new URLSearchParams(params).toString();\n\n  try {\n    const response = await axios.get(url, {\n      headers: {\n        'x-requested-with': 'XMLHttpRequest',\n      },\n    });\n    console.log(response.data);\n\n    iziToast.show({\n      title: 'FIND',\n      color: 'green',\n      message: `Found ${response.data.totalResults} articles`,\n    });\n\n    console.log(response.data.articles);\n    return response.data.articles;\n  } catch (error) {\n    console.error('Error:', error);\n    console.error('Response error:', error.response.data);\n    console.error('Status:', error.response.status);\n    console.error('Headers:', error.response.headers);\n    iziToast.error({\n      title: 'Error',\n      message: error.message,\n    });\n    return [];\n  }\n}\n\nbtnSub.addEventListener('submit', async event => {\n  event.preventDefault();\n  const query = inputSurch.value;\n  const articles = await surch(query);\n  renderNews(articles);\n  console.log(query);\n});\n\nfunction renderNews(articles) {\n  const markup = articles\n    .map(article => {\n      return `\n        <div class=\"news-card\">\n          <a href=\"${article.url}\" target=\"_blank\">\n            <img src=\"${article.urlToImage}\" alt=\"${article.title}\" width='500' />\n          </a>\n          <div class=\"image-text\">\n            <h3>${article.title}</h3>\n            <p>${article.description}</p>\n          </div>\n        </div>\n      `;\n    })\n    .join('');\n\n  newsContainer.innerHTML = markup;\n}\n"],"names":["inputSurch","btnSub","newsContainer","surch","query","proxyUrl","apiKey","baseUrl","params","url","response","iziToast","error","event","articles","renderNews","markup","article"],"mappings":"svBAIA,MAAMA,EAAa,SAAS,cAAc,QAAQ,EAC5CC,EAAS,SAAS,cAAc,aAAa,EAC7CC,EAAgB,SAAS,cAAc,OAAO,EAEpD,eAAeC,EAAMC,EAAO,CAC1B,MAAMC,EAAW,uCACXC,EAAS,mCACTC,EAAU,oCACVC,EAAS,CACb,EAAGJ,EACH,KAAM,aACN,OAAQ,YACR,OAAQE,CACZ,EACQG,EAAMJ,EAAWE,EAAU,IAAM,IAAI,gBAAgBC,CAAM,EAAE,WAEnE,GAAI,CACF,MAAME,EAAW,MAAM,MAAM,IAAID,EAAK,CACpC,QAAS,CACP,mBAAoB,gBACrB,CACP,CAAK,EACD,eAAQ,IAAIC,EAAS,IAAI,EAEzBC,EAAS,KAAK,CACZ,MAAO,OACP,MAAO,QACP,QAAS,SAASD,EAAS,KAAK,YAAY,WAClD,CAAK,EAED,QAAQ,IAAIA,EAAS,KAAK,QAAQ,EAC3BA,EAAS,KAAK,QACtB,OAAQE,EAAO,CACd,eAAQ,MAAM,SAAUA,CAAK,EAC7B,QAAQ,MAAM,kBAAmBA,EAAM,SAAS,IAAI,EACpD,QAAQ,MAAM,UAAWA,EAAM,SAAS,MAAM,EAC9C,QAAQ,MAAM,WAAYA,EAAM,SAAS,OAAO,EAChDD,EAAS,MAAM,CACb,MAAO,QACP,QAASC,EAAM,OACrB,CAAK,EACM,EACR,CACH,CAEAX,EAAO,iBAAiB,SAAU,MAAMY,GAAS,CAC/CA,EAAM,eAAc,EACpB,MAAMT,EAAQJ,EAAW,MACnBc,EAAW,MAAMX,EAAMC,CAAK,EAClCW,EAAWD,CAAQ,EACnB,QAAQ,IAAIV,CAAK,CACnB,CAAC,EAED,SAASW,EAAWD,EAAU,CAC5B,MAAME,EAASF,EACZ,IAAIG,GACI;AAAA;AAAA,qBAEQA,EAAQ,GAAG;AAAA,wBACRA,EAAQ,UAAU,UAAUA,EAAQ,KAAK;AAAA;AAAA;AAAA,kBAG/CA,EAAQ,KAAK;AAAA,iBACdA,EAAQ,WAAW;AAAA;AAAA;AAAA,OAI/B,EACA,KAAK,EAAE,EAEVf,EAAc,UAAYc,CAC5B"}